{% extends "base_voucher.html" %}

{% set voucher_type_title = "Proforma Invoice" %}
{% set voucher_subtitle = "Proforma" %}

{% block voucher_specific_info %}
<div class="voucher-info">
    <div class="section-title">Proforma Details</div>
    <div class="info-row">
        <span class="info-label">Proforma No:</span>
        <span class="info-value">{{ voucher.voucher_number|default('N/A') }}</span>
    </div>
    <div class="info-row">
        <span class="info-label">Date:</span>
        <span class="info-value">{{ voucher.date|format_date }}</span>
    </div>
    <div class="info-row">
        <span class="info-label">Valid Until:</span>
        <span class="info-value">{{ voucher.valid_until|format_date|default('N/A') }}</span>
    </div>
    {% if voucher.reference_number %}
    <div class="info-row">
        <span class="info-label">Reference:</span>
        <span class="info-value">{{ voucher.reference_number }}</span>
    </div>
    {% endif %}
    <div class="info-row">
        <span class="info-label">Status:</span>
        <span class="info-value">
            <span class="status-badge">{{ voucher.status|default('Draft')|title }}</span>
        </span>
    </div>
</div>
{% endblock %}

{% block terms_block %}
<div class="terms">
    <table>
        <tbody>
            {% if voucher.terms_conditions %}
            {% for term in voucher.terms_conditions.split('\n')|slice(4) %}
            <tr><td>{{ loop.index }}. {{ term|trim }}</td></tr>
            {% endfor %}
            {% else %}
            <tr><td>1. This is a proforma invoice and not a tax invoice.</td></tr>
            <tr><td>2. Prices are subject to change without notice.</td></tr>
            <tr><td>3. Payment required in advance.</td></tr>
            <tr><td>4. SUBJECT TO PANVEL JURISDICTION.</td></tr>
            {% endif %}
        </tbody>
    </table>
</div>
{% endblock %}

{% block voucher_specific_footer %}
{% if voucher.delivery_terms %}
<div style="margin-top: 15px;">
    <div class="section-title">Delivery Terms</div>
    <div style="font-size: 10px;">
        {{ voucher.delivery_terms }}
    </div>
</div>
{% endif %}

{% if voucher.payment_terms %}
<div style="margin-top: 15px;">
    <div class="section-title">Payment Terms</div>
    <div style="font-size: 10px;">
        {{ voucher.payment_terms }}
    </div>
</div>
{% endif %}

<div style="margin-top: 15px;">
    <div class="section-title">Bank Details for Payment</div>
    <div style="font-size: 10px;">
        {% if company.bank_details %}
        A/c Holder’s Name: {{ company.bank_details.holder_name }}<br>
        Bank Name: {{ company.bank_details.bank_name }}<br>
        A/c No.: {{ company.bank_details.account_number }}<br>
        Branch & IFS Code: {{ company.bank_details.branch }} & {{ company.bank_details.ifsc }}
        {% else %}
        No bank details available.
        {% endif %}
    </div>
</div>

<div style="margin-top: 15px; font-size: 9px; color: #666; border-top: 1px solid #ddd; padding-top: 10px;">
    <strong>Important Notes:</strong><br>
    • This proforma is valid for 30 days unless specified otherwise.<br>
    • All prices are exclusive of taxes unless mentioned.<br>
    • Delivery charges extra as applicable.<br>
    • Subject to availability.
</div>

<div style="margin-top: 15px; text-align: center; font-weight: bold; color: #2c3e50; border: 2px solid #3498db; padding: 10px; background-color: #ebf3fd;">
    Thank you for considering us. We look forward to your order.
</div>
{% endblock %}