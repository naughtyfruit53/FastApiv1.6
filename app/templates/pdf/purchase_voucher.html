# app/templates/pdf/purchase_voucher.html

{% extends "base_voucher.html" %}

{% block voucher_meta %}
<tr><td class="label">Date</td><td class="value">{{ voucher.date|format_date(format_str=org.date_format or '%d/%m/%Y') }}</td></tr>
<tr><td class="label">Voucher Number</td><td class="value">{{ voucher.voucher_number|default('N/A') }}</td></tr>
{% if voucher.reference_number %}<tr><td class="label">Ref Number</td><td class="value">{{ voucher.reference_number }}</td></tr>{% endif %}
{% if voucher.due_date %}<tr><td class="label">Due Date</td><td class="value">{{ voucher.due_date|format_date(format_str=org.date_format or '%d/%m/%Y')|default('Immediate') }}</td></tr>{% endif %}
<tr><td class="label">Payment Terms</td><td class="value">{{ voucher.payment_terms|default('As per agreement') }}</td></tr>
{% endblock %}

{% block terms_block %}
<div class="terms">
    <table>
        <tbody>
            {% if voucher.terms_conditions %}
            {% for term in voucher.terms_conditions.split('\n')|slice(4) %}
            <tr><td>{{ loop.index }}. {{ term|trim }}</td></tr>
            {% endfor %}
            {% else %}
            <tr><td>1. PURCHASE VOUCHER TERMS - NO RETURN WITHOUT APPROVAL.</td></tr>
            <tr><td>2. Late payments subject to 18% interest.</td></tr>
            <tr><td>3. Goods inspected before acceptance.</td></tr>
            <tr><td>4. SUBJECT TO PANVEL JURISDICTION.</td></tr>
            {% endif %}
        </tbody>
    </table>
</div>
{% endblock %}

{% block voucher_specific_footer %}
{% if voucher.delivery_terms %}
<div style="margin-top: 15px;">
    <div class="section-title">Delivery Terms</div>
    <div style="font-size: 10px;">
        {{ voucher.delivery_terms }}
    </div>
</div>
{% endif %}

{% if voucher.payment_terms %}
<div style="margin-top: 15px;">
    <div class="section-title">Payment Terms</div>
    <div style="font-size: 10px;">
        {{ voucher.payment_terms }}
    </div>
</div>
{% endif %}

{% if voucher.notes %}
<div style="margin-top: 15px;">
    <div class="section-title">Additional Notes</div>
    <div style="font-size: 10px;">
        {{ voucher.notes }}
    </div>
</div>
{% endif %}

<div style="margin-top: 15px; font-size: 9px; color: #666; border-top: 1px solid #ddd; padding-top: 10px;">
    <strong>Purchase Declaration:</strong> We acknowledge receipt of goods as described in this voucher. All goods have been inspected and accepted as per specifications.
</div>

<div style="margin-top: 15px; text-align: center; font-weight: bold; color: #2c3e50; border: 2px solid #3498db; padding: 10px; background-color: #ebf3fd;">
    Thank you for your business.
</div>
{% endblock %}