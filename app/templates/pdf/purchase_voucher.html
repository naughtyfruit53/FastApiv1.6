{% extends "base_voucher.html" %}

{% block voucher_meta %}
<tr><td class="label">Date</td><td class="value">{{ voucher.date|format_date }}</td></tr>
<tr><td class="label">Voucher Number</td><td class="value">{{ voucher.voucher_number|default('N/A') }}</td></tr>
{% if voucher.reference_number %}<tr><td class="label">Ref Number</td><td class="value">{{ voucher.reference_number }}</td></tr>{% endif %}
{% if voucher.due_date %}<tr><td class="label">Due Date</td><td class="value">{{ voucher.due_date|format_date|default('Immediate') }}</td></tr>{% endif %}
<tr><td class="label">Payment Terms</td><td class="value">{{ voucher.payment_terms|default('As per agreement') }}</td></tr>
{% endblock %}

{% block terms_block %}
<div class="terms">
    <table>
        <tbody>
            {% if voucher.terms_conditions %}
            {% for term in voucher.terms_conditions.split('\n')|slice(4) %}
            <tr><td>{{ loop.index }}. {{ term|trim }}</td></tr>
            {% endfor %}
            {% else %}
            <tr><td>1. PURCHASE VOUCHER TERMS - NO RETURN WITHOUT APPROVAL.</td></tr>
            <tr><td>2. Late payments subject to 18% interest.</td></tr>
            <tr><td>3. Goods inspected before acceptance.</td></tr>
            <tr><td>4. SUBJECT TO PANVEL JURISDICTION.</td></tr>
            {% endif %}
        </tbody>
    </table>
</div>
{% endblock %}

{% block voucher_specific_footer %}
{% if voucher.notes %}
<div class="terms" style="border-top: var(--cell-border);">
    <table>
        <tbody>
            <tr><td style="font-weight:700;">Additional Notes</td></tr>
            {% for note in voucher.notes.split('\n') %}
            <tr><td>{{ note|trim }}</td></tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endif %}
{% endblock %}